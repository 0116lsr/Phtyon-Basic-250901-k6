# 📚 2장: 함수와 문자열 처리 완전 가이드

## 🎯 학습 목표
- 함수의 정의와 호출 방법 이해
- 매개변수와 반환값의 개념 파악
- 참조에 의한 호출과 값에 의한 호출 구분
- 전역 변수와 지역 변수의 차이점 이해
- 가변 인수(*args, **kwargs) 사용법 학습
- 문자열 슬라이싱과 파일 처리 방법 익히기

## 📖 핵심 개념

### 1. 함수 (Function)
**정의**: 특정 작업을 수행하는 코드 블록을 하나로 묶어 이름을 붙인 것

**기본 구조**:
```python
def 함수명(매개변수1, 매개변수2, ...):
    """함수 설명 (선택사항)"""
    # 함수가 수행할 코드
    return 반환값  # 선택사항
```

**실제 사용 예시**:
```python
def greet(name):
    """인사말을 출력하는 함수"""
    return f"안녕하세요, {name}님!"

# 함수 호출
message = greet("홍길동")
print(message)  # 결과: 안녕하세요, 홍길동님!
```

### 2. 매개변수와 인수
- **매개변수 (Parameter)**: 함수 정의 시 사용하는 변수
- **인수 (Argument)**: 함수 호출 시 전달하는 실제 값

```python
def add(a, b):  # a, b는 매개변수
    return a + b

result = add(3, 5)  # 3, 5는 인수
```

### 3. 참조에 의한 호출 vs 값에 의한 호출

#### 3.1 값에 의한 호출 (기본 타입)
- 정수, 실수, 문자열, 불린 등
- 함수 내에서 변경해도 원본에 영향 없음

```python
def change_number(x):
    x = 100
    print(f"함수 내부: {x}")

num = 10
change_number(num)
print(f"함수 외부: {num}")  # 여전히 10
```

#### 3.2 참조에 의한 호출 (리스트, 딕셔너리 등)
- 리스트, 딕셔너리 등은 참조로 전달
- 함수 내에서 변경하면 원본도 변경됨

```python
def modify_list(lst):
    lst.append(100)
    print(f"함수 내부: {lst}")

my_list = [1, 2, 3]
modify_list(my_list)
print(f"함수 외부: {my_list}")  # [1, 2, 3, 100]
```

### 4. 전역 변수와 지역 변수

#### 4.1 지역 변수 (Local Variable)
- 함수 내부에서만 사용 가능
- 함수가 끝나면 사라짐

#### 4.2 전역 변수 (Global Variable)
- 함수 외부에서 선언
- 프로그램 전체에서 사용 가능
- 함수 내에서 수정하려면 `global` 키워드 필요

```python
# 전역 변수
count = 0

def increment():
    global count  # 전역 변수 사용 선언
    count += 1
    print(f"카운트: {count}")

increment()  # 카운트: 1
increment()  # 카운트: 2
```

### 5. 가변 인수

#### 5.1 *args (위치 인수)
- 개수가 정해지지 않은 위치 인수를 받음
- 튜플로 처리됨

```python
def sum_all(*args):
    total = 0
    for num in args:
        total += num
    return total

result = sum_all(1, 2, 3, 4, 5)  # 결과: 15
```

#### 5.2 **kwargs (키워드 인수)
- 개수가 정해지지 않은 키워드 인수를 받음
- 딕셔너리로 처리됨

```python
def print_info(**kwargs):
    for key, value in kwargs.items():
        print(f"{key}: {value}")

print_info(name="홍길동", age=25, city="서울")
```

### 6. 문자열 슬라이싱
**정의**: 문자열의 일부분을 추출하는 방법

**기본 문법**:
```python
문자열[시작인덱스:끝인덱스:증가폭]
```

**실제 사용 예시**:
```python
text = "Hello, Python!"

# 기본 슬라이싱
print(text[0:5])    # "Hello"
print(text[7:13])   # "Python"

# 생략 가능
print(text[:5])     # "Hello" (0부터 5까지)
print(text[7:])     # "Python!" (7부터 끝까지)

# 역순 (뒤에서부터)
print(text[-6:])    # "Python!" (뒤에서 6개)
print(text[::-1])   # "!nohtyP ,olleH" (전체 역순)

# 증가폭
print(text[::2])    # "Hlo yhn" (2칸씩 건너뛰기)
```

### 7. 파일 처리

#### 7.1 파일 열기
```python
# 파일 열기 (읽기 모드)
file = open("파일명.txt", "r", encoding="utf-8")
```

#### 7.2 파일 읽기
```python
# 전체 내용 읽기
content = file.read()

# 한 줄씩 읽기
lines = file.readlines()

# 파일 닫기
file.close()
```

#### 7.3 with 문 사용 (권장)
```python
# 자동으로 파일을 닫아줌
with open("파일명.txt", "r", encoding="utf-8") as file:
    content = file.read()
    # 파일이 자동으로 닫힘
```

## 🔧 실습 예제

### 예제 1: 기본 함수 만들기
```python
def calculate_area(length, width):
    """사각형의 넓이를 계산하는 함수"""
    area = length * width
    return area

# 함수 사용
length = 10
width = 5
area = calculate_area(length, width)
print(f"사각형의 넓이: {area}")
```

### 예제 2: 참조에 의한 호출 이해하기
```python
def add_item(shopping_list, item):
    """쇼핑 리스트에 아이템 추가"""
    shopping_list.append(item)
    print(f"추가된 아이템: {item}")
    print(f"현재 리스트: {shopping_list}")

# 사용
my_list = ["사과", "바나나"]
print(f"원본 리스트: {my_list}")

add_item(my_list, "오렌지")
print(f"함수 호출 후: {my_list}")  # 원본이 변경됨
```

### 예제 3: 가변 인수 활용
```python
def create_profile(**info):
    """사용자 프로필을 만드는 함수"""
    print("=== 사용자 프로필 ===")
    for key, value in info.items():
        print(f"{key}: {value}")

# 사용
create_profile(
    name="김파이썬",
    age=25,
    city="서울",
    hobby="프로그래밍"
)
```

### 예제 4: 문자열 처리
```python
def analyze_text(text):
    """텍스트를 분석하는 함수"""
    # 기본 정보
    length = len(text)
    word_count = len(text.split())
    
    # 대소문자 변환
    upper_text = text.upper()
    lower_text = text.lower()
    
    # 특정 단어 개수 세기
    word = "python"
    count = text.lower().count(word)
    
    print(f"텍스트 길이: {length}")
    print(f"단어 개수: {word_count}")
    print(f"대문자: {upper_text}")
    print(f"소문자: {lower_text}")
    print(f"'{word}' 개수: {count}")

# 사용
text = "Python is a great programming language. I love Python!"
analyze_text(text)
```

### 예제 5: 파일 처리
```python
def count_words_in_file(filename, target_word):
    """파일에서 특정 단어의 개수를 세는 함수"""
    try:
        with open(filename, "r", encoding="utf-8") as file:
            content = file.read()
            count = content.lower().count(target_word.lower())
            return count
    except FileNotFoundError:
        print(f"파일 '{filename}'을 찾을 수 없습니다.")
        return 0

# 사용
filename = "yesterday.txt"
word = "yesterday"
count = count_words_in_file(filename, word)
print(f"'{word}' 단어가 {count}번 나타났습니다.")
```

## ⚠️ 주의사항

1. **함수 정의 순서**:
   - 함수를 호출하기 전에 먼저 정의해야 함
   - 또는 함수 호출을 함수 정의보다 아래에 위치

2. **전역 변수 사용**:
   - 함수 내에서 전역 변수를 수정할 때는 `global` 키워드 필수
   - 전역 변수 남용은 코드를 복잡하게 만듦

3. **파일 처리**:
   - 파일을 열었으면 반드시 닫아야 함
   - `with` 문 사용을 권장 (자동으로 닫힘)
   - 파일 경로와 인코딩 확인

4. **문자열 슬라이싱**:
   - 인덱스는 0부터 시작
   - 끝 인덱스는 포함되지 않음
   - 음수 인덱스는 뒤에서부터 계산

## 🎯 학습 체크리스트

- [ ] 함수를 정의하고 호출하기
- [ ] 매개변수와 반환값이 있는 함수 만들기
- [ ] 참조에 의한 호출과 값에 의한 호출 구분하기
- [ ] 전역 변수와 지역 변수 사용하기
- [ ] *args와 **kwargs 사용하기
- [ ] 문자열 슬라이싱으로 텍스트 처리하기
- [ ] 파일을 열고 읽고 닫기
- [ ] with 문으로 안전하게 파일 처리하기

## 🔗 관련 링크

- [파이썬 공식 문서 - 함수 정의](https://docs.python.org/3/tutorial/controlflow.html#defining-functions)
- [파이썬 공식 문서 - 문자열 메서드](https://docs.python.org/3/library/stdtypes.html#string-methods)
- [파이썬 공식 문서 - 파일 처리](https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files)
- [이전 챕터: 파이썬 기본 문법](./01-파이썬기본문법.md)
- [다음 챕터: 자료구조 심화](./03-자료구조심화.md)
